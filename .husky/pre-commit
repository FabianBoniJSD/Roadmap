#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged (blocking) - handles ESLint auto-fix, unused imports cleanup, and Prettier formatting
echo "ğŸ§¹ Running lint-staged (ESLint fix + Prettier)..."

# Windows compatibility: Use npm run instead of npx
npm run pre-commit

# Run security audit (non-blocking warning)
echo "ğŸ”’ Running security audit..."
npm audit --audit-level=moderate || echo "âš ï¸  Security vulnerabilities found - please review with 'npm audit'."
